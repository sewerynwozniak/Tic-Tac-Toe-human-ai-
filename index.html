<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./css/style.css">
</head>

<body>
    

<div class="container">
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
</div>
<button class="restartBtn">Restart Game</button>

<script>

const squares = document.querySelectorAll('.square');
let turn = 0;
const player1 = 'circle';
const player2 = 'times';
const board = [,,,,,,,,];
const player1Board = [];
const player2Board = [];
let player;


squares.forEach(square=>square.addEventListener('click',mark))



function mark(e){
turn++;

let squareIndex =[...e.target.parentElement.children].indexOf(e.target);

turn%2 == 1? player = player1: player=player2

e.target.classList.add(player)

board[squareIndex]= player


if(turn%2 == 1){
    player1Board.push(squareIndex)
}else{
    player2Board.push(squareIndex)
}



check()
}

function check(){

let winningCombinations = [[0,1,2], [3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];

winningCombinations.forEach(group=>{
if(group.every(winningIndex=>player1Board.includes(winningIndex))){
console.log('player1 winns')
squares.forEach(square=>square.classList.add('inactive'))
}
if(group.every(winningIndex=>player2Board.includes(winningIndex))){
console.log('player2 winns');
squares.forEach(square=>square.classList.add('inactive'))
}
}) 
}  

</script>

</body>
</html>


